<!DOCTYPE html>

<html>

	<head>
	    <meta charset="UTF-8" />
	    <title>Pong 2</title>
	    <style type="text/css">
	    	canvas {
			  border:1px dashed #000;
	    	}
	    </style>
	</head>
    
	<body onload="init()">
	    <canvas id="canvas" height="600" width="480"> Navegador não compatível com HTML5 Canvas </canvas>
	</body>
	
	<script>
	
var canvas, context;

// Variáveis do jogoador e oponente
var barraWidth, barraHeight,
	jogadorPosX, jogadorPosY,
	oponentePosX, oponentePosY,
	pontosJogador, pontosOponente,
	velocidadeJogador;

// Variáveis de posição e raio da bola
var	bolaRaio, bolaPosX, bolaPosY;

var canvas = document.getElementById("canvas"); 
var context = canvas.getContext("2d"); 

function init() {
	// Configurar barra do Jogador e Oponente
	barraWidth = 90;
	barraHeight = 30;

	// Configurar posição do Jogador e Oponente
    jogadorPosX =  (canvas.width - barraWidth) / 2;
    jogadorPosY = canvas.height - barraHeight-10;
    oponentePosX =  (canvas.width - barraWidth) / 2;
	oponentePosY = 10;
		
	// Configurar tamanho e posicionamento da bola
	bolaRaio = 10;
	bolaPosX = canvas.width / 2;
	bolaPosY = canvas.height / 2; 
	
	// Configurar placar
	pontosJogador = 0;
	pontosOponente = 0;
	
	// Realizar desenho de todos os elementos da tela
	desenhar();
}

function desenhar(){
	
	// Desenhar jogadores
	context.fillRect(jogadorPosX, jogadorPosY, barraWidth, barraHeight);   // desenho do jogador
	context.fillRect(oponentePosX, oponentePosY, barraWidth, barraHeight); // desenho do oponente
	
	// Desenhar bola
	context.beginPath();                 						  // Inicia o modo de desenho
	context.arc(bolaPosX, bolaPosY, bolaRaio, 0, 2*Math.PI,true); // desenho da bola
	context.closePath();						                  // Fim do modo de desenho
	context.fill();
	
	// Configura o desenho do placar
	var pontosA = pontosJogador;
	var pontosB = pontosOponente;

	// Se não foi definido algum ponto, atribuir o segundo "0" ao placar do Jogador
	if (pontosA < 10 ) {
		pontosA = "0" + pontosA;
	}
	// Se não foi definido algum ponto, atribuir o segundo "0" ao placar do Oponente
	if (pontosB < 10 ) {
		pontosB = "0" + pontosB;
	}

	// Desenhar placar
	context.font = "42pt Helvetica";
	context.fillText(pontosA, canvas.width-70, canvas.height/2 + 50);
	context.fillText(pontosB, 10, (canvas.height/2)-10);
		
	// Desenhar linha divisória da quadra
	context.beginPath();                 // Iniciar o modo de desenho
	context.moveTo(0,canvas.height / 2); // Posicionar "lápis" para desenho
	context.lineTo(canvas.width,canvas.height / 2); // 
	context.strokeStyle = "#000000"; // Cor da divisória (opcional)
	context.stroke();    // Aplicar a divisória
	context.closePath(); // Finalizar o caminho
	
	context.clear(0,0,canvas.width,canvas.height);
}

	</script>
	
</html>